(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5a7e2ec4"],{"0b42":function(e,t,i){var n=i("da84"),l=i("e8b5"),c=i("68ee"),a=i("861d"),o=i("b622"),r=o("species"),s=n.Array;e.exports=function(e){var t;return l(e)&&(t=e.constructor,c(t)&&(t===s||l(t.prototype))?t=void 0:a(t)&&(t=t[r],null===t&&(t=void 0))),void 0===t?s:t}},"159b":function(e,t,i){var n=i("da84"),l=i("fdbc"),c=i("785a"),a=i("17c2"),o=i("9112"),r=function(e){if(e&&e.forEach!==a)try{o(e,"forEach",a)}catch(t){e.forEach=a}};for(var s in l)l[s]&&r(n[s]&&n[s].prototype);r(c)},"17c2":function(e,t,i){"use strict";var n=i("b727").forEach,l=i("a640"),c=l("forEach");e.exports=c?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},"1dde":function(e,t,i){var n=i("d039"),l=i("b622"),c=i("2d00"),a=l("species");e.exports=function(e){return c>=51||!n((function(){var t=[],i=t.constructor={};return i[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},3059:function(e,t,i){"use strict";i("95af")},3606:function(e,t,i){"use strict";i("4377")},"37fb":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-row",{staticStyle:{"margin-top":"20px","margin-bottom":"20px"}},[i("el-col",{attrs:{offset:4,span:16}},[i("CDrawerAll",{attrs:{cli_GetClientList:e.GetClientList,cli_OperateType:"create"}}),i("CDrawerOne",{attrs:{cd_isShow:e.visibleStatus,cd_closeBeforeFunc:e.thisClose,cd_clientType:e.clientOneInfo.client_type,cli_OneClientObject:e.clientOneInfo,cli_OperateType:"show",cli_GetClientList:e.GetClientList}}),i("el-card",{staticStyle:{"box-shadow":"#ccc 0px 30px 30px"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",{staticStyle:{"padding-left":"50px"}},[e._v("客户端 · 列表")]),i("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:e.GetClientList}},[e._v("刷新列表")])],1),i("el-table",{staticStyle:{width:"100%"},attrs:{border:!0,data:e.clientList,"header-cell-style":{background:"#2f2f35",color:"#fff"},stripe:!0}},[i("el-table-column",{attrs:{label:"客户端名称",prop:"client_name"}}),i("el-table-column",{attrs:{label:"客户端描述",prop:"client_description"}}),i("el-table-column",{attrs:{label:"客户端类型",prop:"client_annotation"}}),i("el-table-column",{attrs:{label:"是否激活",prop:"is_active"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-checkbox",{on:{change:e.saveActiveStatus},model:{value:t.row.is_active,callback:function(i){e.$set(t.row,"is_active",i)},expression:"scope.row.is_active"}},[e._v("激活")])]}}])}),i("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"small",type:"text"},nativeOn:{click:function(i){return i.preventDefault(),e.getOneClient(t.$index,e.clientList)}}},[e._v("详情 ")]),i("el-button",{attrs:{size:"small",type:"text"},nativeOn:{click:function(i){return i.preventDefault(),e.deleteOneClient(t.$index,e.clientList)}}},[e._v(" 移除 ")])]}}])})],1),i("br"),i("br"),i("br"),i("el-button",{attrs:{round:"",type:"primary"},on:{click:e.addClient}},[e._v("添加新客户端")])],1)],1)],1)},l=[],c=(i("d3b7"),i("159b"),i("a434"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-drawer",{attrs:{title:"添加客户端",visible:e.getDrawerStatus,"before-close":e.handleClose,"destroy-on-close":!0,size:"40%"}},[i("el-tabs",{staticStyle:{margin:"1px 20px"},attrs:{"tab-position":"top"}},[i("el-tab-pane",{attrs:{label:"钉钉 · 群机器人"}},[i("clientDingtalk",e._b({},"clientDingtalk",e.$attrs,!1))],1),i("el-tab-pane",{attrs:{label:"飞书 · 群机器人"}},[i("clientFeishu",e._b({},"clientFeishu",e.$attrs,!1))],1),i("el-tab-pane",{attrs:{label:"企微 · 群机器人"}},[i("clientWechatRobot",e._b({},"clientWechatRobot",e.$attrs,!1))],1),i("el-tab-pane",{attrs:{label:"企微 · 应用号"}},[i("clientWechat",e._b({},"clientWechat",e.$attrs,!1))],1),i("el-tab-pane",{staticStyle:{"text-align":"left"},attrs:{label:"其它"}},[i("clientOther",e._b({},"clientOther",e.$attrs,!1))],1)],1)],1)}),a=[],o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-form",{staticStyle:{"text-align":"left",padding:"0 20px"},attrs:{"label-position":"right",model:e.client,rules:e.clientRules,"label-width":"100px"}},["show"===e.cli_OperateType?i("el-form-item",{attrs:{label:"客户端ID:",prop:"id"}},[i("el-input",{attrs:{disabled:""},model:{value:e.client.id,callback:function(t){e.$set(e.client,"id",t)},expression:"client.id"}})],1):e._e(),"show"===e.cli_OperateType?i("el-form-item",{attrs:{label:"所属通道:",prop:"namespace"}},[i("el-input",{attrs:{disabled:""},model:{value:e.client.namespace,callback:function(t){e.$set(e.client,"namespace",t)},expression:"client.namespace"}})],1):e._e(),i("el-form-item",{attrs:{label:"客户端名称:",prop:"client_name"}},[i("el-input",{attrs:{placeholder:""},model:{value:e.client.client_name,callback:function(t){e.$set(e.client,"client_name",t)},expression:"client.client_name"}})],1),i("el-form-item",{attrs:{label:"客户端描述:"}},[i("el-input",{attrs:{placeholder:""},model:{value:e.client.client_description,callback:function(t){e.$set(e.client,"client_description",t)},expression:"client.client_description"}})],1),i("el-form-item",{attrs:{label:"客户端类型:"}},[i("el-input",{attrs:{disabled:""},model:{value:e.client.client_type,callback:function(t){e.$set(e.client,"client_type",t)},expression:"client.client_type"}})],1),"show"===e.cli_OperateType?i("el-form-item",{attrs:{label:"是否激活:",prop:"is_active"}},[i("el-radio-group",{model:{value:e.client.is_active,callback:function(t){e.$set(e.client,"is_active",t)},expression:"client.is_active"}},[i("el-radio",{attrs:{label:!0}},[e._v("激活")]),i("el-radio",{attrs:{label:!1}},[e._v("未激活")])],1)],1):e._e(),i("el-divider",{attrs:{"content-position":"center"}},[e._v("机器人")]),i("el-form-item",{attrs:{label:"放行关键字:"}},[i("el-input",{attrs:{placeholder:"要和机器人界面设置的放行关键词保持一直"},model:{value:e.client.client_info.robot_keyword,callback:function(t){e.$set(e.client.client_info,"robot_keyword",t)},expression:"client.client_info.robot_keyword"}})],1),e._l(e.client.client_info.robot_url_list,(function(t,n){return i("div",{key:n},[i("el-form-item",{attrs:{label:"机器人URL:"}},[i("el-input",{staticStyle:{width:"85%"},attrs:{placeholder:"从钉钉上粘贴而来的机器人URL地址"},model:{value:t.url,callback:function(i){e.$set(t,"url",i)},expression:"list.url"}}),i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{circle:"",icon:"el-icon-delete",size:"mini",type:"danger"},on:{click:function(t){return e.input_delete(n)}}})],1)],1)})),i("div",{staticStyle:{"text-align":"center"}},[i("el-button",{attrs:{icon:"el-icon-plus",size:"mini",type:"text"},on:{click:e.input_add}},[e._v(" 再添加一个机器人 ")])],1),i("p",{attrs:{id:"text_stype"}},[e._v(" 此处可以添加多个机器人，推送消息时会从中随机挑选一个URL来使用，可以避免单个机器人消息推送时（每分钟）的次数限制，避免重要报警信息被漏送的可能。 ")]),i("br"),i("br"),"show"===this.cli_OperateType?i("el-form-item",[i("el-button",{attrs:{type:"info",round:""},on:{click:e.updateClient}},[e._v("立即修改")]),i("el-button",{attrs:{type:"danger",round:""},on:{click:e.deleteClient}},[e._v("删除")])],1):i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:e.createClient}},[e._v("立即创建")]),i("el-button",{on:{click:e.closeDrawer}},[e._v("取消")])],1)],2)},r=[],s=i("6cac"),u={name:"clientDingtalk",data:function(){return{client:{client_name:"",client_description:"",client_type:"dingtalk",is_active:!1,client_info:{robot_url_list:[{url:""}],robot_keyword:""},typeDescription:"钉钉·机器人"},clientRules:{client_name:[{required:!0,message:"name不能为空",trigger:"blur"}]}}},props:{cli_GetClientList:Function,cli_OneClientObject:Object,cli_OperateType:String},methods:{createClient:function(){var e=this;Object(s["j"])(this.$store.getters.getNamespace,this.client).then((function(t){1===t.data.code?(e.$message.success("添加成功..."),e.cli_GetClientList(),e.$store.commit("updateDrawerStatus",!1)):(e.$message.error("添加失败..."),e.cli_GetClientList(),e.$store.commit("updateDrawerStatus",!1))})).catch((function(e){console.log(e)}))},updateClient:function(){var e=this;Object(s["o"])(this.$store.getters.getNamespace,this.cli_OneClientObject.id,this.client).then((function(t){1===t.data.code&&(e.$message.success("数据更新成功"),e.cli_GetClientList())})).catch((function(e){console.log(e)}))},deleteClient:function(){var e=this;Object(s["a"])(this.$store.getters.getNamespace,this.cli_OneClientObject.id,null).then((function(t){1===t.data.code?(e.$message.success("删除客户端成功..."),e.cli_GetClientList()):e.$message.error("删除失败...")})).catch((function(e){console.log(e)}))},input_add:function(){var e={url:""};this.client.client_info.robot_url_list.push(e);for(var t=0;t<this.client.client_info.robot_url_list.length;t++)console.log(this.client.client_info.robot_url_list[t])},input_delete:function(e){this.client.client_info.robot_url_list.splice(e,1)},closeDrawer:function(){this.cli_GetClientList(),this.$store.commit("updateDrawerStatus",!1)}},created:function(){"show"===this.cli_OperateType&&(this.client=this.cli_OneClientObject)},watch:{cli_OneClientObject:{handler:function(e,t){console.log(e,t),"show"===this.cli_OperateType&&(this.client=this.cli_OneClientObject)},deep:!0}}},p=u,d=(i("3b36"),i("2877")),f=Object(d["a"])(p,o,r,!1,null,"a57c85b2",null),_=f.exports,b=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-form",{staticStyle:{"text-align":"left"},attrs:{"label-position":"right","label-width":"100px",model:e.client,rules:e.wechatRules}},["show"===e.cli_OperateType?i("el-form-item",{attrs:{label:"客户端ID:",prop:"id"}},[i("el-input",{attrs:{disabled:""},model:{value:e.client.id,callback:function(t){e.$set(e.client,"id",t)},expression:"client.id"}})],1):e._e(),"show"===e.cli_OperateType?i("el-form-item",{attrs:{label:"所属通道:",prop:"namespace"}},[i("el-input",{attrs:{disabled:""},model:{value:e.client.namespace,callback:function(t){e.$set(e.client,"namespace",t)},expression:"client.namespace"}})],1):e._e(),i("el-form-item",{attrs:{label:"客户端名称:",prop:"client_name"}},[i("el-input",{attrs:{placeholder:""},model:{value:e.client.client_name,callback:function(t){e.$set(e.client,"client_name",t)},expression:"client.client_name"}})],1),i("el-form-item",{attrs:{label:"客户端描述:"}},[i("el-input",{attrs:{placeholder:""},model:{value:e.client.client_description,callback:function(t){e.$set(e.client,"client_description",t)},expression:"client.client_description"}})],1),i("el-form-item",{attrs:{label:"客户端类型:"}},[i("el-input",{attrs:{disabled:""},model:{value:e.client.client_type,callback:function(t){e.$set(e.client,"client_type",t)},expression:"client.client_type"}})],1),"show"===e.cli_OperateType?i("el-form-item",{attrs:{label:"是否激活:",prop:"is_active"}},[i("el-radio-group",{model:{value:e.client.is_active,callback:function(t){e.$set(e.client,"is_active",t)},expression:"client.is_active"}},[i("el-radio",{attrs:{label:!0}},[e._v("激活")]),i("el-radio",{attrs:{label:!1}},[e._v("未激活")])],1)],1):e._e(),i("el-divider",{attrs:{"content-position":"center"}},[e._v("应用号")]),i("el-form-item",{attrs:{label:"企业ID:"}},[i("el-input",{attrs:{placeholder:"请联系企业微信管理员获取"},model:{value:e.client.client_info.corp_id,callback:function(t){e.$set(e.client.client_info,"corp_id",t)},expression:"client.client_info.corp_id"}})],1),i("el-form-item",{attrs:{label:"应用AgentId:"}},[i("el-input",{attrs:{placeholder:"请联系企业微信管理员获取"},model:{value:e.client.client_info.agent_id,callback:function(t){e.$set(e.client.client_info,"agent_id",t)},expression:"client.client_info.agent_id"}})],1),i("el-form-item",{attrs:{label:"应用Secret:"}},[i("el-input",{attrs:{placeholder:"请联系企业微信管理员获取","show-password":""},model:{value:e.client.client_info.secret,callback:function(t){e.$set(e.client.client_info,"secret",t)},expression:"client.client_info.secret"}})],1),i("el-form-item",{attrs:{label:"接收用户:"}},[i("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:6},placeholder:"可以填写多个用户账号，用 | 分割开 （例如：aaa|bbb）"},model:{value:e.client.client_info.touser,callback:function(t){e.$set(e.client.client_info,"touser",t)},expression:"client.client_info.touser"}})],1),i("br"),i("br"),"show"===this.cli_OperateType?i("el-form-item",[i("el-button",{attrs:{type:"info",round:""},on:{click:e.updateClient}},[e._v("立即修改")]),i("el-button",{attrs:{type:"danger",round:""},on:{click:e.deleteClient}},[e._v("删除")])],1):i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:e.createClient}},[e._v("立即创建")]),i("el-button",{on:{click:e.closeDrawer}},[e._v("取消")])],1)],1)},m=[],h={name:"clientWechat",data:function(){return{client:{client_name:"",client_description:"",client_type:"wechat",is_active:!1,client_info:{corp_id:"",agent_id:"",secret:"",touser:""},typeDescription:"企业微信·应用号"},wechatRules:{client_name:[{required:!0,message:"name不能为空",trigger:"blur"}]}}},props:{cli_GetClientList:Function,cli_OneClientObject:Object,cli_OperateType:String},methods:{createClient:function(){var e=this,t=this.client.client_info.secret;t.length<=5?this.$message.error("应用Secret的输入长度不符合要求..."):Object(s["j"])(this.$store.getters.getNamespace,this.client).then((function(t){t.data.result?(e.$message.success("添加成功..."),e.cli_GetClientList(),e.$store.commit("updateDrawerStatus",!1)):(e.$message.error("添加失败..."),e.cli_GetClientList(),e.$store.commit("updateDrawerStatus",!1))})).catch((function(e){console.log(e)}))},updateClient:function(){var e=this;Object(s["o"])(this.$store.getters.getNamespace,this.cli_OneClientObject.id,this.client).then((function(t){1===t.data.code&&(e.$message.success("数据更新成功"),e.cli_GetClientList())})).catch((function(e){console.log(e)}))},deleteClient:function(){var e=this;Object(s["a"])(this.$store.getters.getNamespace,this.cli_OneClientObject.id,null).then((function(t){1===t.data.code?(e.$message.success("删除客户端成功..."),e.cli_GetClientList()):e.$message.error("删除失败...")})).catch((function(e){console.log(e)}))},closeDrawer:function(){this.cli_GetClientList(),this.$store.commit("updateDrawerStatus",!1)}},created:function(){"show"===this.cli_OperateType&&(this.client=this.cli_OneClientObject)},watch:{cli_OneClientObject:{handler:function(e,t){console.log(e,t),"show"===this.cli_OperateType&&(this.client=this.cli_OneClientObject)},deep:!0}}},v=h,g=Object(d["a"])(v,b,m,!1,null,"1e0d1742",null),y=g.exports,O=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("br"),i("p",{staticClass:"authorStatement"},[e._v("GoMessage永久开源且免费，任何人都可以进行二次开发与封装...")]),i("br"),i("p",{staticClass:"authorStatement"},[e._v("平时只能用业余时间开发，更新进度可能比较慢，希望小伙伴们理解万岁...")]),i("br"),i("p",{staticClass:"authorStatement"},[e._v(" 如果您喜欢GoMessage，并且希望GoMessage能兼容对接到其它客户端，可直接联系我们进行反馈，我们会尽快满足小伙伴们的各种实际使用场景...")]),i("br"),i("p",{staticClass:"authorStatement"},[e._v("有问题直接提，互相学习，共同进步哈~ (*^__^*)")]),i("br"),i("el-divider",{attrs:{"content-position":"center"}},[e._v("常用联系方式")]),i("el-table",{attrs:{data:e.author}},[i("el-table-column",{attrs:{prop:"name",label:"名称",width:"100px"}}),i("el-table-column",{attrs:{prop:"wechat",label:"微信"}}),i("el-table-column",{attrs:{prop:"qq",label:"QQ"}})],1)],1)},w=[],C={name:"clientOther",data:function(){return{author:[{name:"古寒飞",wechat:"SPE3SRU3STAY",qq:"237663347"},{name:"yesuu",wechat:"ACFOLPTPZXIZ",qq:"791581230"}]}}},$=C,x=(i("3059"),Object(d["a"])($,O,w,!1,null,"035975af",null)),k=x.exports,S=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-form",{staticStyle:{"text-align":"left",padding:"0 20px"},attrs:{"label-position":"right","label-width":"100px",model:e.client,rules:e.feishuRules}},["show"===e.cli_OperateType?i("el-form-item",{attrs:{label:"客户端ID:",prop:"id"}},[i("el-input",{attrs:{disabled:""},model:{value:e.client.id,callback:function(t){e.$set(e.client,"id",t)},expression:"client.id"}})],1):e._e(),"show"===e.cli_OperateType?i("el-form-item",{attrs:{label:"所属通道:",prop:"namespace"}},[i("el-input",{attrs:{disabled:""},model:{value:e.client.namespace,callback:function(t){e.$set(e.client,"namespace",t)},expression:"client.namespace"}})],1):e._e(),i("el-form-item",{attrs:{label:"客户端名称:",prop:"client_name"}},[i("el-input",{attrs:{placeholder:""},model:{value:e.client.client_name,callback:function(t){e.$set(e.client,"client_name",t)},expression:"client.client_name"}})],1),i("el-form-item",{attrs:{label:"客户端描述:"}},[i("el-input",{attrs:{placeholder:""},model:{value:e.client.client_description,callback:function(t){e.$set(e.client,"client_description",t)},expression:"client.client_description"}})],1),i("el-form-item",{attrs:{label:"客户端类型:"}},[i("el-input",{attrs:{disabled:""},model:{value:e.client.client_type,callback:function(t){e.$set(e.client,"client_type",t)},expression:"client.client_type"}})],1),"show"===e.cli_OperateType?i("el-form-item",{attrs:{label:"是否激活:",prop:"is_active"}},[i("el-radio-group",{model:{value:e.client.is_active,callback:function(t){e.$set(e.client,"is_active",t)},expression:"client.is_active"}},[i("el-radio",{attrs:{label:!0}},[e._v("激活")]),i("el-radio",{attrs:{label:!1}},[e._v("未激活")])],1)],1):e._e(),i("el-divider",{attrs:{"content-position":"center"}},[e._v("机器人")]),i("el-form-item",{attrs:{label:"标题名称:"}},[i("el-input",{attrs:{placeholder:"标题中要包含机器人的放行关键词"},model:{value:e.client.client_info.robot_keyword,callback:function(t){e.$set(e.client.client_info,"robot_keyword",t)},expression:"client.client_info.robot_keyword"}})],1),i("el-form-item",{attrs:{label:"标题颜色:"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:e.client.client_info.title_color,callback:function(t){e.$set(e.client.client_info,"title_color",t)},expression:"client.client_info.title_color"}},e._l(e.all_title_color,(function(e){return i("el-option",{key:e.color,attrs:{label:e.label,value:e.color}})})),1)],1),e._l(e.client.client_info.robot_url_list,(function(t,n){return i("div",{key:n},[i("el-form-item",{attrs:{label:"机器人URL:"}},[i("el-input",{staticStyle:{width:"85%"},attrs:{placeholder:"从飞书上粘贴而来的机器人URL地址"},model:{value:t.url,callback:function(i){e.$set(t,"url",i)},expression:"list.url"}}),i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"danger",icon:"el-icon-delete",circle:"",size:"mini"},on:{click:function(t){return e.del(n)}}})],1)],1)})),i("div",{staticStyle:{"text-align":"center"}},[i("el-button",{attrs:{type:"text",icon:"el-icon-plus",size:"mini"},on:{click:e.add}},[e._v("再添加一个机器人")])],1),i("p",{attrs:{id:"textStype"}},[e._v(" 此处可以添加多个机器人，推送消息时会从中随机挑选一个URL来使用，可以避免单个机器人消息推送时（每分钟）的次数限制，避免重要报警信息被漏送的可能。 ")]),i("br"),i("br"),"show"===this.cli_OperateType?i("el-form-item",[i("el-button",{attrs:{type:"info",round:""},on:{click:e.updateClient}},[e._v("立即修改")]),i("el-button",{attrs:{type:"danger",round:""},on:{click:e.deleteClient}},[e._v("删除")])],1):i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:e.createClient}},[e._v("立即创建")]),i("el-button",{on:{click:e.closeDrawer}},[e._v("取消")])],1)],2)},j=[],D={name:"clientFeishu",data:function(){return{client:{client_name:"",client_description:"",client_type:"feishu",is_active:!1,client_info:{robot_keyword:"",robot_url_list:[{url:""}],title_color:"grey"},typeDescription:"飞书·机器人"},feishuRules:{client_name:[{required:!0,message:"name不能为空",trigger:"blur"}]},all_title_color:[{color:"grey",label:"灰色（默认）"},{color:"blue",label:"蓝色"},{color:"wathet",label:"浅蓝色"},{color:"turquoise",label:"松石绿"},{color:"green",label:"绿色"},{color:"yellow",label:"黄色"},{color:"orange",label:"橘色"},{color:"red",label:"红色"},{color:"carmine",label:"胭脂红"},{color:"violet",label:"紫罗兰色"},{color:"purple",label:"紫色"},{color:"indigo",label:"靛青"}]}},props:{cli_GetClientList:Function,cli_OneClientObject:Object,cli_OperateType:String},methods:{createClient:function(){var e=this;Object(s["j"])(this.$store.getters.getNamespace,this.client).then((function(t){1===t.data.code?(e.$message.success("添加成功..."),e.cli_GetClientList(),e.$store.commit("updateDrawerStatus",!1)):(e.$message.error("添加失败..."),e.cli_GetClientList(),e.$store.commit("updateDrawerStatus",!1))})).catch((function(e){console.log(e)}))},updateClient:function(){var e=this;Object(s["o"])(this.$store.getters.getNamespace,this.cli_OneClientObject.id,this.client).then((function(t){1===t.data.code&&(e.$message.success("数据更新成功"),e.cli_GetClientList())})).catch((function(e){console.log(e)}))},deleteClient:function(){var e=this;Object(s["a"])(this.$store.getters.getNamespace,this.cli_OneClientObject.id,null).then((function(t){1===t.data.code?(e.$message.success("删除客户端成功..."),e.cli_GetClientList()):e.$message.error("删除失败...")})).catch((function(e){console.log(e)}))},add:function(){var e={url:""};this.client.client_info.robot_url_list.push(e);for(var t=0;t<this.client.client_info.robot_url_list.length;t++)console.log(this.client.client_info.robot_url_list[t])},del:function(e){this.client.client_info.robot_url_list.splice(e,1)},closeDrawer:function(){this.cli_GetClientList(),this.$store.commit("updateDrawerStatus",!1)}},created:function(){"show"===this.cli_OperateType&&(this.client=this.cli_OneClientObject)},watch:{cli_OneClientObject:{handler:function(e,t){console.log(e,t),"show"===this.cli_OperateType&&(this.client=this.cli_OneClientObject)},deep:!0}}},L=D,G=(i("43f5"),Object(d["a"])(L,S,j,!1,null,"578f97ca",null)),T=G.exports,R=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-form",{staticStyle:{"text-align":"left",padding:"0 20px"},attrs:{"label-position":"right",model:e.client,rules:e.clientRules,"label-width":"100px"}},["show"===e.cli_OperateType?i("el-form-item",{attrs:{label:"客户端ID:",prop:"id"}},[i("el-input",{attrs:{disabled:""},model:{value:e.client.id,callback:function(t){e.$set(e.client,"id",t)},expression:"client.id"}})],1):e._e(),"show"===e.cli_OperateType?i("el-form-item",{attrs:{label:"所属通道:",prop:"namespace"}},[i("el-input",{attrs:{disabled:""},model:{value:e.client.namespace,callback:function(t){e.$set(e.client,"namespace",t)},expression:"client.namespace"}})],1):e._e(),i("el-form-item",{attrs:{label:"客户端名称:",prop:"client_name"}},[i("el-input",{attrs:{placeholder:""},model:{value:e.client.client_name,callback:function(t){e.$set(e.client,"client_name",t)},expression:"client.client_name"}})],1),i("el-form-item",{attrs:{label:"客户端描述:"}},[i("el-input",{attrs:{placeholder:""},model:{value:e.client.client_description,callback:function(t){e.$set(e.client,"client_description",t)},expression:"client.client_description"}})],1),i("el-form-item",{attrs:{label:"客户端类型:"}},[i("el-input",{attrs:{disabled:""},model:{value:e.client.client_type,callback:function(t){e.$set(e.client,"client_type",t)},expression:"client.client_type"}})],1),"show"===e.cli_OperateType?i("el-form-item",{attrs:{label:"是否激活:",prop:"is_active"}},[i("el-radio-group",{model:{value:e.client.is_active,callback:function(t){e.$set(e.client,"is_active",t)},expression:"client.is_active"}},[i("el-radio",{attrs:{label:!0}},[e._v("激活")]),i("el-radio",{attrs:{label:!1}},[e._v("未激活")])],1)],1):e._e(),i("el-divider",{attrs:{"content-position":"center"}},[e._v("机器人")]),e._l(e.client.client_info.robot_url_list,(function(t,n){return i("div",{key:n},[i("el-form-item",{attrs:{label:"机器人URL:"}},[i("el-input",{staticStyle:{width:"85%"},attrs:{placeholder:"机器人URL地址"},model:{value:t.url,callback:function(i){e.$set(t,"url",i)},expression:"list.url"}}),i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{circle:"",icon:"el-icon-delete",size:"mini",type:"danger"},on:{click:function(t){return e.del(n)}}})],1)],1)})),i("div",{staticStyle:{"text-align":"center"}},[i("el-button",{attrs:{icon:"el-icon-plus",size:"mini",type:"text"},on:{click:e.add}},[e._v("再添加一个机器人")])],1),i("p",{attrs:{id:"textStype"}},[e._v(" 此处可以添加多个机器人，推送消息时会从中随机挑选一个URL来使用，可以避免单个机器人消息推送时（每分钟）的次数限制，避免重要报警信息被漏送的可能。 ")]),i("br"),i("br"),"show"===this.cli_OperateType?i("el-form-item",[i("el-button",{attrs:{type:"info",round:""},on:{click:e.updateClient}},[e._v("立即修改")]),i("el-button",{attrs:{type:"danger",round:""},on:{click:e.deleteClient}},[e._v("删除")])],1):i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:e.createClient}},[e._v("立即创建")]),i("el-button",{on:{click:e.closeDrawer}},[e._v("取消")])],1)],2)},E=[],A={name:"clientWechatRobot",data:function(){return{client:{client_name:"",client_description:"",client_type:"wechat_robot",is_active:!1,client_info:{robot_keyword:"",robot_url_list:[{url:""}]},typeDescription:"企业微信·群机器人"},clientRules:{client_name:[{required:!0,message:"name不能为空",trigger:"blur"}]}}},props:{cli_GetClientList:Function,cli_OneClientObject:Object,cli_OperateType:String},methods:{createClient:function(){var e=this;Object(s["j"])(this.$store.getters.getNamespace,this.client).then((function(t){1===t.data.code?(e.$message.success("添加成功..."),e.cli_GetClientList(),e.$store.commit("updateDrawerStatus",!1)):(e.$message.error("添加失败..."),e.cli_GetClientList(),e.$store.commit("updateDrawerStatus",!1))})).catch((function(e){console.log(e)}))},updateClient:function(){var e=this;Object(s["o"])(this.$store.getters.getNamespace,this.cli_OneClientObject.id,this.client).then((function(t){1===t.data.code&&(e.$message.success("数据更新成功"),e.cli_GetClientList())})).catch((function(e){console.log(e)}))},deleteClient:function(){var e=this;Object(s["a"])(this.$store.getters.getNamespace,this.cli_OneClientObject.id,null).then((function(t){1===t.data.code?(e.$message.success("删除客户端成功..."),e.cli_GetClientList()):e.$message.error("删除失败...")})).catch((function(e){console.log(e)}))},add:function(){var e={url:""};this.client.client_info.robot_url_list.push(e);for(var t=0;t<this.client.client_info.robot_url_list.length;t++)console.log(this.client.client_info.robot_url_list[t])},del:function(e){this.client.client_info.robot_url_list.splice(e,1)},closeDrawer:function(){this.cli_GetClientList(),this.$store.commit("updateDrawerStatus",!1)}},created:function(){"show"===this.cli_OperateType&&(this.client=this.cli_OneClientObject)},watch:{cli_OneClientObject:{handler:function(e,t){console.log(e,t),"show"===this.cli_OperateType&&(this.client=this.cli_OneClientObject)},deep:!0}}},F=A,N=(i("3606"),Object(d["a"])(F,R,E,!1,null,"50c4de2d",null)),W=N.exports,P={name:"cDrawerAll",components:{clientDingtalk:_,clientWechat:y,clientOther:k,clientFeishu:T,clientWechatRobot:W},computed:{getDrawerStatus:function(){return this.$store.state.DrawerStatus}},methods:{handleClose:function(e){var t=this;this.$confirm("确认关闭？").then((function(i){console.log(i),t.$store.commit("updateDrawerStatus",!1),e()})).catch((function(e){console.log(e)}))}}},q=P,I=Object(d["a"])(q,c,a,!1,null,null,null),z=I.exports,U=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-drawer",{attrs:{title:"客户端信息查看","destroy-on-close":!0,visible:e.cd_isShow,"before-close":e.cd_closeBeforeFunc},on:{"update:visible":function(t){e.cd_isShow=t}}},["dingtalk"===e.cd_clientType?i("ClientDingtalk",e._b({},"ClientDingtalk",e.$attrs,!1)):"feishu"===e.cd_clientType?i("ClientFeishu",e._b({},"ClientFeishu",e.$attrs,!1)):"wechat_robot"===e.cd_clientType?i("ClientWechatRobot",e._b({},"ClientWechatRobot",e.$attrs,!1)):"wechat"===e.cd_clientType?i("ClientWechat",e._b({},"ClientWechat",e.$attrs,!1)):e._e()],1)},M=[],B={name:"cDrawerOne",props:{cd_isShow:Boolean,cd_closeBeforeFunc:Function,cd_clientType:String},components:{ClientDingtalk:_,ClientFeishu:T,ClientWechatRobot:W,ClientWechat:y}},J=B,Q=Object(d["a"])(J,U,M,!1,null,null,null),Z=Q.exports,V={name:"ViewClient",data:function(){return{visibleStatus:!1,clientList:[],clientOneInfo:{id:null,client_name:null,client_description:null,is_active:null,client_type:"dingtalk",client_annotation:"",client_info:{}}}},components:{CDrawerAll:z,CDrawerOne:Z},methods:{getAnnotation:function(e){var t={dingtalk:"钉钉·机器人",wechat:"企业微信·应用号",wechat_robot:"企业微信·机器人",feishu:"飞书·机器人"};return t[e]},saveActiveStatus:function(){var e=this;this.clientList.forEach((function(t){!1===t.demo_data&&Object(s["p"])(e.$store.getters.getNamespace,t.id,t).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))})),this.$message.success("激活状态保存成功...")},addClient:function(){this.$store.commit("updateDrawerStatus",!0)},thisClose:function(){this.visibleStatus=!1},deleteOneClient:function(e,t){var i=this;if(console.log(t),t["demo_data"])console.log("进入到了这里"),t.splice(e,1);else{var n=t[e].id;console.log(t),Object(s["a"])(this.$store.getters.getNamespace,n,null).then((function(n){1===n.data.code?(i.$message.success("删除一行数据成功..."),t.splice(e,1)):i.$message.error("删除数据失败...")})).catch((function(e){console.log(e)}))}},getOneClient:function(e,t){var i=this,n=t[e].id;Object(s["d"])(this.$store.getters.getNamespace,n,null).then((function(e){console.log(e.data.result),i.clientOneInfo=e.data.result})).catch((function(e){console.log(e)})),this.visibleStatus=!0},GetClientList:function(){var e=this;Object(s["c"])(this.$store.getters.getNamespace,null).then((function(t){0===t.data.result.length?(console.log("数据库里没有数据"),e.$message.info("当前通道中，还没有添加客户端....")):(e.clientList=t.data.result,e.clientList.forEach((function(t){t.client_annotation=e.getAnnotation(t.client_type),t.demo_data=!1})))})).catch((function(e){console.log(e)}))}},created:function(){this.$store.commit("updateStepsActive",3),this.GetClientList()}},X=V,Y=(i("9df9"),Object(d["a"])(X,n,l,!1,null,"f7f8e410",null));t["default"]=Y.exports},"3b36":function(e,t,i){"use strict";i("f112")},4377:function(e,t,i){},"43f5":function(e,t,i){"use strict";i("5170")},5170:function(e,t,i){},"65f0":function(e,t,i){var n=i("0b42");e.exports=function(e,t){return new(n(e))(0===t?0:t)}},"6cac":function(e,t,i){"use strict";i.d(t,"k",(function(){return l})),i.d(t,"s",(function(){return c})),i.d(t,"t",(function(){return a})),i.d(t,"n",(function(){return o})),i.d(t,"r",(function(){return r})),i.d(t,"g",(function(){return s})),i.d(t,"m",(function(){return u})),i.d(t,"c",(function(){return p})),i.d(t,"j",(function(){return d})),i.d(t,"d",(function(){return f})),i.d(t,"p",(function(){return _})),i.d(t,"o",(function(){return b})),i.d(t,"a",(function(){return m})),i.d(t,"e",(function(){return h})),i.d(t,"l",(function(){return v})),i.d(t,"f",(function(){return g})),i.d(t,"b",(function(){return y})),i.d(t,"q",(function(){return O})),i.d(t,"h",(function(){return w})),i.d(t,"i",(function(){return C}));var n=i("be3b"),l=function(e,t){return n["a"].Post("/go/"+e,t)},c=function(e,t){return n["a"].Get("/api/v1/"+e+"/json",t)},a=function(e,t){return n["a"].Get("/api/v1/"+e+"/vars",t)},o=function(e,t){return n["a"].Post("/api/v1/"+e+"/vars",t)},r=function(e,t){return n["a"].Get("/api/v1/"+e+"/flattening",t)},s=function(e,t){return n["a"].Get("/api/v1/"+e+"/template",t)},u=function(e,t){return n["a"].Post("/api/v1/"+e+"/template",t)},p=function(e,t){return n["a"].Get("/api/v1/"+e+"/client",t)},d=function(e,t){return n["a"].Post("/api/v1/"+e+"/client",t)},f=function(e,t,i){return n["a"].Get("/api/v1/"+e+"/client/"+t,i)},_=function(e,t,i){return n["a"].Put("/api/v1/"+e+"/client/"+t,i)},b=function(e,t,i){return n["a"].Put("/api/v1/"+e+"/client-info/"+t,i)},m=function(e,t,i){return n["a"].Delete("/api/v1/"+e+"/client/"+t,i)},h=function(e){return n["a"].Get("/api/v1/namespace",e)},v=function(e){return n["a"].Post("/api/v1/namespace",e)},g=function(e,t){return n["a"].Get("/api/v1/namespace/"+e,t)},y=function(e){return n["a"].Delete("/api/v1/namespace/"+e)},O=function(e,t){return n["a"].Put("/api/v1/namespace/"+e,t)},w=function(e){return n["a"].Post("/auth/login",e)},C=function(e){return n["a"].Post("/auth/logout",e)}},8418:function(e,t,i){"use strict";var n=i("a04b"),l=i("9bf2"),c=i("5c6c");e.exports=function(e,t,i){var a=n(t);a in e?l.f(e,a,c(0,i)):e[a]=i}},"95af":function(e,t,i){},"9df9":function(e,t,i){"use strict";i("ea50")},a434:function(e,t,i){"use strict";var n=i("23e7"),l=i("da84"),c=i("23cb"),a=i("5926"),o=i("07fa"),r=i("7b0b"),s=i("65f0"),u=i("8418"),p=i("1dde"),d=p("splice"),f=l.TypeError,_=Math.max,b=Math.min,m=9007199254740991,h="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!d},{splice:function(e,t){var i,n,l,p,d,v,g=r(this),y=o(g),O=c(e,y),w=arguments.length;if(0===w?i=n=0:1===w?(i=0,n=y-O):(i=w-2,n=b(_(a(t),0),y-O)),y+i-n>m)throw f(h);for(l=s(g,n),p=0;p<n;p++)d=O+p,d in g&&u(l,p,g[d]);if(l.length=n,i<n){for(p=O;p<y-n;p++)d=p+n,v=p+i,d in g?g[v]=g[d]:delete g[v];for(p=y;p>y-n+i;p--)delete g[p-1]}else if(i>n)for(p=y-n;p>O;p--)d=p+n-1,v=p+i-1,d in g?g[v]=g[d]:delete g[v];for(p=0;p<i;p++)g[p+O]=arguments[p+2];return g.length=y-n+i,l}})},a640:function(e,t,i){"use strict";var n=i("d039");e.exports=function(e,t){var i=[][e];return!!i&&n((function(){i.call(null,t||function(){throw 1},1)}))}},b727:function(e,t,i){var n=i("0366"),l=i("e330"),c=i("44ad"),a=i("7b0b"),o=i("07fa"),r=i("65f0"),s=l([].push),u=function(e){var t=1==e,i=2==e,l=3==e,u=4==e,p=6==e,d=7==e,f=5==e||p;return function(_,b,m,h){for(var v,g,y=a(_),O=c(y),w=n(b,m),C=o(O),$=0,x=h||r,k=t?x(_,C):i||d?x(_,0):void 0;C>$;$++)if((f||$ in O)&&(v=O[$],g=w(v,$,y),e))if(t)k[$]=g;else if(g)switch(e){case 3:return!0;case 5:return v;case 6:return $;case 2:s(k,v)}else switch(e){case 4:return!1;case 7:s(k,v)}return p?-1:l||u?u:k}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},e8b5:function(e,t,i){var n=i("c6b6");e.exports=Array.isArray||function(e){return"Array"==n(e)}},ea50:function(e,t,i){},f112:function(e,t,i){}}]);
//# sourceMappingURL=chunk-5a7e2ec4.85fafa80.js.map