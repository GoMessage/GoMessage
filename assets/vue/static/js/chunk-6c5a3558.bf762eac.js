(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c5a3558"],{"04e6":function(e,t,a){"use strict";a("85e0")},"2ac1":function(e,t,a){"use strict";a("c3d5")},"61f7":function(e,t,a){"use strict";function n(e,t,a){let n=/^[0-9]+$/,i=n.test(t.toString());i&&a("不能以数字开头"),a()}function i(e,t,a){t.length<3&&a("长度不能小于3个字符"),a()}function o(e,t,a){let n=/^[A-Za-z0-9]+$/,i=n.test(t.toString());i||a("只能是字母或数字，不能包含特殊符号"),a()}a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return o}))},"6cac":function(e,t,a){"use strict";a.d(t,"k",(function(){return i})),a.d(t,"s",(function(){return o})),a.d(t,"t",(function(){return s})),a.d(t,"n",(function(){return r})),a.d(t,"r",(function(){return l})),a.d(t,"g",(function(){return c})),a.d(t,"m",(function(){return u})),a.d(t,"c",(function(){return m})),a.d(t,"j",(function(){return d})),a.d(t,"d",(function(){return p})),a.d(t,"p",(function(){return f})),a.d(t,"o",(function(){return g})),a.d(t,"a",(function(){return h})),a.d(t,"e",(function(){return v})),a.d(t,"l",(function(){return b})),a.d(t,"f",(function(){return y})),a.d(t,"b",(function(){return _})),a.d(t,"q",(function(){return k})),a.d(t,"h",(function(){return x})),a.d(t,"i",(function(){return N}));var n=a("be3b");const i=(e,t)=>n["a"].Post("/go/"+e,t),o=(e,t)=>n["a"].Get("/api/v1/"+e+"/json",t),s=(e,t)=>n["a"].Get("/api/v1/"+e+"/vars",t),r=(e,t)=>n["a"].Post("/api/v1/"+e+"/vars",t),l=(e,t)=>n["a"].Get("/api/v1/"+e+"/flattening",t),c=(e,t)=>n["a"].Get("/api/v1/"+e+"/template",t),u=(e,t)=>n["a"].Post("/api/v1/"+e+"/template",t),m=(e,t)=>n["a"].Get("/api/v1/"+e+"/client",t),d=(e,t)=>n["a"].Post("/api/v1/"+e+"/client",t),p=(e,t,a)=>n["a"].Get("/api/v1/"+e+"/client/"+t,a),f=(e,t,a)=>n["a"].Put("/api/v1/"+e+"/client/"+t,a),g=(e,t,a)=>n["a"].Put("/api/v1/"+e+"/client-info/"+t,a),h=(e,t,a)=>n["a"].Delete("/api/v1/"+e+"/client/"+t,a),v=e=>n["a"].Get("/api/v1/namespace",e),b=e=>n["a"].Post("/api/v1/namespace",e),y=(e,t)=>n["a"].Get("/api/v1/namespace/"+e,t),_=e=>n["a"].Delete("/api/v1/namespace/"+e),k=(e,t)=>n["a"].Put("/api/v1/namespace/"+e,t),x=e=>n["a"].Post("/auth/login",e),N=e=>n["a"].Post("/auth/logout",e)},"7f94":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e._self._c;return t("el-container",{attrs:{id:"MyContainer-Container"}},[t("el-header",{attrs:{id:"MyContainer-Header"}},[t("NavHeader")],1),t("el-container",[t("el-aside",{attrs:{id:"MyContainer-Aside",width:"275px"}},[t("NavAside")],1),t("el-main",{attrs:{id:"MyContainer-Main"}},[t("router-view")],1)],1),t("el-footer",{attrs:{id:"MyContainer-Footer"}},[t("NavFooter")],1)],1)},i=[],o=function(){var e=this,t=e._self._c;return t("el-menu",{staticClass:"el-menu-demo",attrs:{id:"NavFooter-Footer",mode:"horizontal","background-color":"#161823","text-color":"#fff","active-text-color":"#ffd04b","collapse-transition":!0},on:{select:e.handleSelect}},[t("el-row",{attrs:{type:"flex",justify:"center",id:"my-row"}},[t("el-menu-item",{attrs:{id:"NavFooter-menu-item",disabled:""}},[t("el-link",{attrs:{href:"https://github.com/gomessage/gomessage",type:"primary"}},[e._v("@ 2020~2023  ")]),t("el-link",{attrs:{href:"https://opensource.org/licenses/MIT",type:"primary"}},[e._v("MIT License   ")]),t("el-link",{attrs:{href:"https://github.com/gomessage/gomessage",type:"primary"}},[e._v("Github ")]),e._v(" or "),t("el-link",{attrs:{href:"https://gitee.com/gomessage/gomessage",type:"primary"}},[e._v(" Gitee  ")]),e._v(" Version: "),t("el-link",{attrs:{href:"https://github.com/gomessage/gomessage/releases",type:"primary"}},[e._v("v"+e._s(e.version)+"  ")]),e._v(" Give feedback and Suggestions to the author: "),t("el-link",{attrs:{href:"mailto:taycc3223@gmail.com",type:"primary"}},[e._v("Email")])],1)],1)],1)},s=[],r={name:"NavFooter",data(){return{version:"",activeIndex:"1",activeIndex2:"1"}},methods:{handleSelect(e,t){console.log(e,t)}},created(){this.version="2.3.10"}},l=r,c=(a("da4d"),a("2877")),u=Object(c["a"])(l,o,s,!1,null,"0ca0db6c",null),m=u.exports,d=function(){var e=this,t=e._self._c;return t("el-menu",{staticStyle:{height:"100%"},attrs:{"collapse-transition":!0,"default-active":e.$route.name,"active-text-color":"#ffd04b","background-color":"#161823",mode:"horizontal",router:"","text-color":"#fff"},on:{select:e.handleSelect}},[t("el-menu-item",[t("router-link",{attrs:{to:"/"}},[t("img",{attrs:{height:"90%",src:a("9b19")}}),e._v("    "),t("span",{staticStyle:{"font-size":"15px"}},[e._v("GoMessage · 消息转发器")])])],1),t("el-menu-item",{staticStyle:{padding:"0"}},[t("router-link",{attrs:{to:"/"}},[t("el-button",{staticStyle:{color:"#fff","margin-left":"10px"},attrs:{type:"text",icon:"el-icon-location"}},[e._v(" "+e._s(e.getStoreNamespace)+" ")])],1)],1),t("el-row",{attrs:{justify:"end",type:"flex"}},[t("router-link",{attrs:{to:"/main/"}},[t("el-menu-item",{attrs:{index:"1-1"}},[t("i",{staticClass:"el-icon-position"}),e._v("消息入口")])],1),t("router-link",{attrs:{to:"/main/renders"}},[t("el-menu-item",{attrs:{index:"2-1"}},[t("i",{staticClass:"el-icon-set-up"}),e._v("数据渲染")])],1),t("router-link",{attrs:{to:"/main/clients"}},[t("el-menu-item",{attrs:{index:"3-1"}},[t("i",{staticClass:"el-icon-chat-dot-square"}),e._v("接收客户端")])],1),t("el-menu-item",[t("el-link",{attrs:{underline:!1,href:"https://www.yuque.com/osoc/gomessage",target:"_blank",type:"primary"}},[t("i",{staticClass:"el-icon-document"}),e._v("文档 ")])],1),t("el-dropdown",[t("el-menu-item",[e.isToken?t("el-avatar",{attrs:{src:e.image001}}):t("el-avatar",[e._v("User")])],1),t("el-dropdown-menu",[e.isToken?t("el-dropdown-item",[t("el-button",{attrs:{type:"text"},on:{click:e.user_logout}},[e._v("退出登录")])],1):t("el-dropdown-item",[t("el-button",{attrs:{type:"text"},on:{click:e.router2login}},[e._v("用户登录")])],1)],1)],1)],1)],1)},p=[],f=(a("14d9"),a("a3b5")),g=a.n(f),h=a("6cac"),v={name:"NavHeader",data(){return{image001:g.a}},components:{},computed:{getStoreNamespace:function(){return this.$store.getters.getNamespace},isToken:function(){let e=this.$store.getters.getToken;return""!==e}},methods:{handleSelect(e,t){console.log(e,t)},user_logout(){Object(h["i"])({demo:"demo"}).then(e=>{1===e.data.code?(this.$store.commit("updateToken",""),this.$message.success("注销成功...")):this.$message.error("退出登录失败...")})},router2login(){this.$router.push("/login")}}},b=v,y=(a("04e6"),Object(c["a"])(b,d,p,!1,null,"855b9c36",null)),_=y.exports,k=function(){var e=this,t=e._self._c;return t("el-menu",{staticStyle:{height:"100%","border-right":"solid 0 red"},attrs:{"default-active":e.getStoreNamespace,"active-text-color":"#ffd04b","background-color":"#41555d","text-color":"#fff"}},[t("br"),e._l(e.namespaceList,(function(a,n){return t("el-menu-item",{key:n,staticStyle:{"text-align":"left"},attrs:{index:a.name},on:{click:function(t){return e.updateNamespace(a,t)}}},[t("i",{staticClass:"el-icon-menu"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(a.name))])])})),t("br"),t("el-menu-item",{staticStyle:{"text-align":"left"},attrs:{index:"998"}},[t("el-button",{staticStyle:{"padding-right":"35px"},attrs:{icon:"el-icon-setting",plain:"",size:"mini"},on:{click:function(t){e.dialogFormVisible222=!0}}},[e._v("管理推送通道 ")])],1),t("el-dialog",{attrs:{visible:e.dialogFormVisible222,title:"消息推送通道",modal:"",width:"60%",top:"10vh","lock-scroll":""},on:{"update:visible":function(t){e.dialogFormVisible222=t}}},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.namespaceList,border:"","header-cell-style":{background:"#2f2f35",color:"#fff"}}},[t("el-table-column",{attrs:{prop:"name",label:"名称",width:"180"}}),t("el-table-column",{attrs:{prop:"description",label:"描述"}}),t("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{size:"small",type:"danger"},nativeOn:{click:function(t){return t.preventDefault(),e.deleteOneNamespace(a.$index,e.namespaceList)}}},[e._v("删除 ")])]}}])})],1),t("br"),t("p",{staticClass:"authorStatement2"},[e._v(' GoMessage v2 版本支持多通道并发，可以同时存在多个"通道"，互不干扰的进行消息转发。 ')]),t("br"),t("el-divider",{attrs:{"content-position":"left"}},[t("i",{staticClass:"el-icon-circle-plus-outline"},[e._v(" 新增通道")])]),t("el-form",{ref:"namespaceForm",staticStyle:{width:"60%"},attrs:{model:e.namespaceForm,rules:e.namespaceRules}},[t("el-form-item",{attrs:{label:"通道名称","label-width":"105px",prop:"name"}},[t("el-input",{attrs:{autocomplete:"off",placeholder:"请输入通道名称（只能是纯英文名称，不限大小写）"},model:{value:e.namespaceForm.name,callback:function(t){e.$set(e.namespaceForm,"name",t)},expression:"namespaceForm.name"}})],1),t("el-form-item",{attrs:{label:"通道描述","label-width":"105px"}},[t("el-input",{attrs:{autocomplete:"off",type:"textarea",rows:3,placeholder:"请输入推送通道的描述信息"},model:{value:e.namespaceForm.description,callback:function(t){e.$set(e.namespaceForm,"description",t)},expression:"namespaceForm.description"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogFormVisible222=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.addNamespace}},[e._v("确 定")])],1)],1)],2)},x=[],N=a("61f7"),w={name:"NavAside",data(){return{namespaceList:[{name:"default",description:"default",is_active:!0,is_renders:!1}],dialogFormVisible222:!1,namespaceForm:{name:"",description:"",is_active:!0},namespaceRules:{name:[{required:!0,message:"name不能为空",trigger:"blur"},{validator:N["a"],trigger:"blur"},{validator:N["b"],trigger:"blur"},{validator:N["c"],trigger:"blur"}]}}},methods:{pullNamespace:function(){Object(h["e"])().then(e=>{if(1===e.data.code){this.namespaceList=e.data.result;let t=this.$store.getters.getNamespace;this.namespaceList.forEach(e=>{e["name"]===t&&this.$store.commit("updateNamespaceInfo",e)})}}).catch(e=>{console.log(e)})},updateNamespace:function(e,t){let a=e.name;console.log(a,t),this.$store.commit("updateNamespace",a),this.$store.commit("updateNamespaceInfo",e),location.reload()},addNamespace:function(){this.$refs["namespaceForm"].validate(e=>{e&&(this.dialogFormVisible222=!1,this.namespaceForm.is_active=!0,Object(h["l"])(this.namespaceForm).then(e=>{console.log(e),location.reload()}))})},deleteOneNamespace(e,t){let a=t[e].id;Object(h["b"])(a).then(a=>{1===a.data.code?(this.$message.success("删除一行数据成功..."),t.splice(e,1)):this.$message.error("删除数据失败...")}).catch(e=>{console.log(e)})},activeNamespace:function(){this.namespaceList.forEach(e=>{Object(h["q"])(e.id,e).then(e=>{console.log(e.data.result)}).catch(e=>{console.log(e)})}),this.$message.success("数据更新成功...")}},computed:{getStoreNamespace:function(){return this.$store.getters.getNamespace}},created(){this.pullNamespace()}},F=w,S=(a("2ac1"),Object(c["a"])(F,k,x,!1,null,"c58ddf20",null)),$=S.exports,C={name:"main",components:{NavHeader:_,NavAside:$,NavFooter:m},created(){}},j=C,G=Object(c["a"])(j,n,i,!1,null,"08f7a426",null);t["default"]=G.exports},"85e0":function(e,t,a){},"9b19":function(e,t,a){e.exports=a.p+"static/img/logo.45c29d20.svg"},a3b5:function(e,t,a){e.exports=a.p+"static/img/image001.545e79a6.jpeg"},c3d5:function(e,t,a){},da4d:function(e,t,a){"use strict";a("db71")},db71:function(e,t,a){}}]);
//# sourceMappingURL=chunk-6c5a3558.bf762eac.js.map